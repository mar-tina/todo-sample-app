!function(t){var e={};function n(o){if(e[o])return e[o].exports;var r=e[o]={i:o,l:!1,exports:{}};return t[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(o,r,function(e){return t[e]}.bind(null,r));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=1)}([function(t,e,n){var o;window,o=function(){return function(t){var e={};function n(o){if(e[o])return e[o].exports;var r=e[o]={i:o,l:!1,exports:{}};return t[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(o,r,function(e){return t[e]}.bind(null,r));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s="./src/core.js")}({"./src/core.js":
/*!*********************!*\
  !*** ./src/core.js ***!
  \*********************/
/*! exports provided: html, init, Shadow, createShadowElement */function(t,e,n){"use strict";function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)){var n=[],o=!0,r=!1,i=void 0;try{for(var c,a=t[Symbol.iterator]();!(o=(c=a.next()).done)&&(n.push(c.value),!e||n.length!==e);o=!0);}catch(t){r=!0,i=t}finally{try{o||null==a.return||a.return()}finally{if(r)throw i}}return n}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function i(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function c(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function a(t,e,n){return e&&c(t.prototype,e),n&&c(t,n),t}function u(t){var e="function"==typeof Map?new Map:void 0;return(u=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,o)}function o(){return s(t,arguments,f(this).constructor)}return o.prototype=Object.create(t.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),l(o,t)})(t)}function d(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function s(t,e,n){return(s=d()?Reflect.construct:function(t,e,n){var o=[null];o.push.apply(o,e);var r=new(Function.bind.apply(t,o));return n&&l(r,n.prototype),r}).apply(null,arguments)}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function f(t){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function p(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}n.r(e),n.d(e,"html",(function(){return v})),n.d(e,"init",(function(){return b})),n.d(e,"Shadow",(function(){return h})),n.d(e,"createShadowElement",(function(){return x}));var h,y=document.createRange(),v=Range.prototype.createContextualFragment.bind(y),b=function(t,e,n){var o={};(o=void 0!==n?n.querySelector(t):document.querySelector(t)).attachShadow({mode:"open"}),o.shadowRoot.appendChild(e)},m=function(t,e,n,o){e["".concat(t)]=function(t){"true"===o.defaultAction&&t.preventDefault(),n(t,o)}};!function(t){!function(t){var e=function(){function t(){}return t.prototype.clone=function(t,e){return function(n){function c(){var n,a,u;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c),a=this,u=f(c).call(this),n=!u||"object"!==o(u)&&"function"!=typeof u?i(a):u,p(i(n),"setPassedAttribute",(function(t){var e=Array.from(t.attributes),o=new Map;e.map((function(t){o.set("".concat(t.nodeName),"".concat(t.nodeValue))}),"");var c=n._shadowRoot.getElementById(o.get("id")),a=!0,u=!1,d=void 0;try{for(var s,l=o.entries()[Symbol.iterator]();!(a=(s=l.next()).done);a=!0){var f=r(s.value,2),p=f[0],h=f[1];p.startsWith("@")&&(p=p.substr(1),m("".concat(p),c,n.methods["".concat(h)],{defaultAction:o.get("default"),ctx:i(n),bound:o.get("bind")}))}}catch(t){u=!0,d=t}finally{try{a||null==l.return||l.return()}finally{if(u)throw d}}})),p(i(n),"recursivelyCheckForNodes",(function(t,e){if(t.hasChildNodes())for(var o=0;o<t.childNodes.length;o++)n.nestedNodes["".concat(e)].push(t),n.recursivelyCheckForNodes(t.childNodes[o],e);else n.nestedNodes["".concat(e)].push(t)})),n.state=t.state,n.methods=t.methods,n.actions=t.actions,n.provider=e,n.nestedNodes={attrNodes:[]},n.renderTemplate=document.createElement("template"),n._shadowRoot=n.attachShadow({mode:"open"}),n._render(),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(c,n),a(c,[{key:"connectedCallback",value:function(){var e,n;e=this,void 0!==(n=t.lifecycle.onMount)?n(e):console.log("Onmount function is undefined")}}]),a(c,[{key:"setState",value:function(t){for(var e in t)t.hasOwnProperty(e)&&(this.state[e]=t[e]);for(var n=0;n<this._shadowRoot.childNodes.length;)this._shadowRoot.removeChild(this.shadowRoot.childNodes[n]),n=1;this._render()}},{key:"clean",value:function(t){for(var e,n=0;n<t.childNodes.length;)8===t.childNodes[n].nodeType||3===t.childNodes[n].nodeType&&(e=t.childNodes[n],!/[^\t\n\r ]/.test(e.textContent))?t.removeChild(t.childNodes[n]):1===t.childNodes[n].nodeType&&this.clean(t.childNodes[n]),n+=1;return t}},{key:"_render",value:function(){var e=t.template(this),n=document.createElement("div");n.appendChild(e),this.renderTemplate.innerHTML=n.innerHTML,n.innerHTML="";var o=this.clean(this.renderTemplate.content.cloneNode(!0));n.appendChild(o),this._shadowRoot.appendChild(n.cloneNode(!0)),this._handleAttributes(this._shadowRoot.childNodes[0].childNodes)}},{key:"_handleAttributes",value:function(t){var e=!0,n=!1,o=void 0;try{for(var r,i=t[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){var c=r.value;this.recursivelyCheckForNodes(c,"attrNodes")}}catch(t){n=!0,o=t}finally{try{e||null==i.return||i.return()}finally{if(n)throw o}}var a=this.nestedNodes.attrNodes.filter((function(t){return void 0!==t.id&&""!==t.id}));this.nestedNodes.attrNodes=[],a.forEach(this.setPassedAttribute)}}]),c}(u(HTMLElement))},t}();t.BaseElement=e;var n=function(){function t(){this.providers={}}return t.prototype.addNewContext=function(t,e){this.providers.hasOwnProperty(t)||(this.providers["".concat(t)]={});var n=this.providers["".concat(t)];n.data=e,n.subs=[];var o={get:function(t,e,o){return n.subs.forEach((function(n){"get"===n.listenOn&&n.f(e,t[e])})),Reflect.get(t,e,o)},set:function(t,e,o,r){var i=Reflect.set(t,e,o);return n.subs.forEach((function(n){"set"===n.listenOn&&n.f(e,t[e])})),i}};return n.proxyObject=new Proxy(n.data,o),n},t.prototype.subToContext=function(t,e){if(this.providers["".concat(t)])return this.providers["".concat(t)].subs.push(e),this;throw new Error("Provider does not exist")},t}();t.ContextProvider=new n}(t.Base||(t.Base={}))}(h||(h={}));var g=h.Base.ContextProvider,x=function(t){return new h.Base.BaseElement.prototype.clone(t,g)}}})},t.exports=o()},function(t,e,n){"use strict";n.r(e);var o=n(0),r="\n    display:grid;\n    justify-items:center;\n    align-content: center;\n    grid-gap: 20px;\n";function i(t){var e={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"};return t.replace(/[&<>"'/]/gi,(function(t){return e[t]}))}var c=Object(o.createShadowElement)({state:{todos:[]},lifecycle:{onMount:function(t){var e=t.actions.subscribe(t,t.provider);t.state.proxyObject=e.providers.todoCtx.proxyObject}},methods:{markAsDone:function(t,e){e.ctx.state.todos.map((function(t){t.id===e.bound&&(t.done=!t.done)})),e.ctx.state.proxyObject.todos=e.ctx.state.todos},deleteTodo:function(t,e){var n=e.ctx.state.todos.filter((function(t){return t.id!==e.bound}));e.ctx.state.proxyObject.todos=n},handleEdit:function(t,e){e.ctx.state.todos.map((function(n){n.id===e.bound&&(n.name=i(t.target.innerText))})),e.ctx.state.proxyObject.todos.map((function(n){n.id===e.bound&&(n.name=i(t.target.innerText))}))}},actions:{subscribe:function(t,e){var n={listenOn:"set",f:function(e,n){"todos"===e&&t.setState({todos:n})}};try{return e.subToContext("todoCtx",n)}catch(t){console.log("Failed",t)}}},template:function(t){return Object(o.html)('\n    <div style="text-align:center;"> All the todos </div>\n    <div style="'.concat("\n    justify-items:center;\n    align-content: center;\n    grid-gap: 20px;\n    overflow-y: scroll;\n    max-height: 400px;\n",'">\n            <div style="').concat("\n    display: grid;\n    grid-gap: 15px;\n",'" id="todoList"> ').concat(a(t.state)," </div>\n    </div>\n        "))}}),a=function(t){return"\n    ".concat(t.todos.map((function(t){return' \n          <div @oninput="handleEdit" contentEditable='.concat(!0,' style="',"\n    color:blue;\n    text-align:center;\n    padding: 10px;\n",'" id=').concat(t.id+"none","  bind=").concat(t.id,">  ").concat(t.name,' </div> \n              <div style="text-align:center;"> \n              \x3c!-- Append a randomized string to svg ID to avoid more than one element sharing the same id --\x3e\n              <svg id=').concat(t.id+"rand",' @onclick="deleteTodo"  bind=').concat(t.id,' xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 24 24" fill="none" stroke="#000000" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg>\n\n              \x3c!-- Append a randomized string to svg ID to avoid more than one element sharing the same id --\x3e\n              <svg id=').concat(t.id+"abs",' @onclick="markAsDone" bind=').concat(t.id,'  xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 24 24" fill="none" stroke=').concat(t.done?"green":"black",' stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><polyline points="20 6 9 17 4 12"></polyline></svg>\n          </div>\n      ')})).join(""))};function u(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}customElements.define("todo-list",c);var d=Object(o.createShadowElement)({state:{todos:[]},lifecycle:{onMount:function(t){var e=t.actions.publish(t,t.provider);t.state.proxyObject=e.proxyObject}},methods:{handleInput:function(t,e){var n=i(t.target.value),o=n.replace(/\s+/g,"-").toLowerCase();e.ctx.state.todo={name:n,id:o,done:!1}},handleBtnClick:function(t,e){var n=[].concat(u(e.ctx.state.proxyObject.todos),[e.ctx.state.todo]);e.ctx.state.proxyObject.todos=n,e.ctx.setState({todos:[]})}},actions:{publish:function(t,e){return e.addNewContext("todoCtx",{todos:[]})}},template:function(t){return Object(o.html)('\n        <div style="'.concat(r,'">\n        <input style="').concat("\n    padding: 10px;\n    font-size: 15px;\n",'" id="todo-input" @oninput="handleInput" /> \n          <div> \n            <button style="').concat("\n    background: coral;\n    color: white;\n    border: none;\n    padding: 15px;\n    font-size: 15px;\n",'" id="state-change" @onclick="handleBtnClick" > Submit Todo </button>\n          </div>\n        </div>'))}});function s(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}customElements.define("todo-el",d);var l=Object(o.createShadowElement)({state:{length:0,updates:[],done:0},lifecycle:{onMount:function(t){var e=t.actions.subscribe(t,t.provider);t.state.proxyObject=e.providers.todoCtx.proxyObject}},actions:{getAllDoneTodos:function(t){return t.filter((function(t){return!0===t.done})).length},subscribe:function(t,e){var n={listenOn:"set",f:function(e,n){if("todos"===e){var o=t.actions.getAllDoneTodos(n),r=t.actions.returnUpdate(t,n,o);t.setState({updates:[].concat(s(t.state.updates),[r]),length:n.length,done:o})}}};try{return e.subToContext("todoCtx",n)}catch(t){console.log("Failed",t)}},returnUpdate:function(t,e,n){return t.state.length<e.length?"Added a new Todo 👏🏾":t.state.length>e.length?"Yaay you did some cleanup 💃🏾":t.state.done<n?"New milestone 💥":t.state.done>n?"Was that a mistake ?  😳":"We dont know whats going on sorry 💅🏽"}},template:function(t){return Object(o.html)("\n        <div> Today's logs <span> ".concat(t.state.length," </span> Completed : <span> ").concat(t.state.done,' </span> </div>\n        <div style="').concat("\n    display:grid;\n    justify-items:center;\n    align-content: center;\n    grid-gap: 20px;\n    overflow-y: scroll;\n    max-height: 400px;\n",'">\n            \n            ').concat(t.state.updates.map((function(t){return"<div> ".concat(t," </div>")})).join(""),"\n        </div>\n    "))}});customElements.define("log-todo",l);var f=Object(o.createShadowElement)({template:function(){return Object(o.html)('\n           <div style="'.concat("\n    display: grid;\n    border-bottom: 1px solid #FF5733;\n    padding-bottom: 10px;\n    color: #FF5733;\n    text-align: center;\n",'">\n                <h2> Big Brain Todo App  </h2> \n           </div>\n        '))}});customElements.define("header-el",f);var p=Object(o.createShadowElement)({lifecycle:{onMount:function(){console.log("Mounted App")}},template:function(t){return Object(o.html)('\n        <header-el> </header-el>\n        <div style="'.concat(r,'">\n          <p> TODOS </p>\n          <todo-el> </todo-el>\n          <div style="').concat("\n    display: grid;\n    grid-gap: 100px;\n    grid-template-columns: 1fr 1fr;\n",'">\n            <todo-list> </todo-list>\n            <log-todo> </log-todo>\n          </div>\n        </div>'))}});customElements.define("main-app",p);var h=Object(o.html)("<div>  \n     <main-app> </main-app> \n  </div>");Object(o.init)("#app",h)}]);
//# sourceMappingURL=index.js.map